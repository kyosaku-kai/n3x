#
# NVIDIA Jetson Orin Nano machine configuration for Isar
#
# Hardware: NVIDIA Jetson Orin Nano 8GB Developer Kit
# - SoC: Tegra234 (Orin family)
# - Serial: ttyTCU0 (Tegra Combined UART), 115200n8
# - Boot: NVIDIA L4T flash tools (not GRUB)
# - Storage: NVMe SSD or SD card
#
# Notes:
# - This config produces a rootfs tarball for integration with L4T BSP
# - WIC images are NOT used - L4T flash tools handle partitioning
# - Boot slot management via nvbootctrl (A/B partitions)
#
# Flash workflow:
# 1. Build with ISAR -> rootfs tarball
# 2. Extract to Linux_for_Tegra/rootfs/
# 3. Run apply_binaries.sh
# 4. Flash with l4t_initrd_flash.sh
#

DISTRO_ARCH ?= "arm64"

KERNEL_NAME ?= "arm64"

# Produce rootfs tarball for L4T integration (not WIC)
# L4T flash tools handle partition layout and bootloader
IMAGE_FSTYPES ?= "tar.gz"

# Serial console configuration
# Jetson Orin Nano uses Tegra Combined UART (ttyTCU0)
MACHINE_SERIAL ?= "ttyTCU0"
BAUDRATE_TTY ?= "115200"

# NVIDIA L4T packages are added via kas/machine/jetson-orin-nano.yml
# using IMAGE_INSTALL:append with prebuilt .deb recipes
# See: meta-isar-k3s/recipes-bsp/nvidia-l4t/
