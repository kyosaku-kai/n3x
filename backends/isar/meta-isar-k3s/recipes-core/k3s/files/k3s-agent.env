# =============================================================================
# K3s Agent Environment Configuration
# =============================================================================
#
# This file configures the K3s agent (worker node) startup options.
# The agent connects to an existing K3s server to join the cluster.
#
# REQUIRED CONFIGURATION:
#   You MUST set K3S_URL before the agent can start.
#
# USAGE:
#   1. Get the server URL from your K3s server node
#   2. Uncomment and set K3S_URL below
#   3. Start the agent: systemctl start k3s-agent
#
# DOCUMENTATION:
#   Full list of agent options: https://docs.k3s.io/cli/agent
#
# TEST TOKEN:
#   A pre-configured test token is installed at:
#     /var/lib/rancher/k3s/server/token
#   WARNING: This is for testing only - production should use secure tokens
#   The agent uses this token to authenticate with the server
#   You can override with K3S_TOKEN or K3S_TOKEN_FILE if needed
#
# =============================================================================

# -----------------------------------------------------------------------------
# Server Connection (REQUIRED)
# -----------------------------------------------------------------------------
# These variables are REQUIRED for the agent to join a cluster.

# K3S_URL: The URL of the K3s server's API endpoint
# Get this from the server (usually https://<server-ip>:6443)
# K3S_URL="https://192.168.1.100:6443"

# K3S_TOKEN: The node-token for authentication (direct token string)
# Get this from the server by running:
#   cat /var/lib/rancher/k3s/server/node-token
# K3S_TOKEN="K10abc123..."

# K3S_TOKEN_FILE: Path to file containing the token (preferred over K3S_TOKEN)
# For testing, a pre-configured token is available at:
# K3S_TOKEN_FILE="/var/lib/rancher/k3s/server/token"

# -----------------------------------------------------------------------------
# Node Configuration
# -----------------------------------------------------------------------------
# Optional settings to customize how this node appears in the cluster

# Add labels to identify the node's role or capabilities:
# K3S_AGENT_OPTS="--node-label role=worker"

# Add taints to restrict what pods can run on this node:
# K3S_AGENT_OPTS="--node-taint special=true:NoSchedule"

# Use a specific IP address (for multi-homed hosts):
# K3S_AGENT_OPTS="--node-ip 192.168.1.101"

# Set a custom node name (defaults to hostname):
# K3S_AGENT_OPTS="--node-name my-worker-01"

# -----------------------------------------------------------------------------
# Current Configuration
# -----------------------------------------------------------------------------
# Default: empty (requires K3S_URL and K3S_TOKEN to be set)

K3S_AGENT_OPTS=""
