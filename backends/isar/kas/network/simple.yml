# Simple Network Profile Overlay
# =============================================================================
#
# PURPOSE:
#   Configures k3s with simple flat network (single eth1, no VLANs, no bonding).
#   Suitable for basic testing and development.
#
# USAGE:
#   kas-container --isar build kas/base.yml:kas/machine/qemu-amd64.yml:kas/test-k3s-overlay.yml:kas/network/simple.yml
#
# CONFIGURATION:
#   NETWORKD_NODE_NAME determines the node identity and IP assignment:
#     - server-1: 192.168.1.1 (default)
#     - server-2: 192.168.1.2
#     - agent-1:  192.168.1.3
#     - agent-2:  192.168.1.4
#
#   Override NETWORKD_NODE_NAME in local.conf for different nodes.
#
# =============================================================================

header:
  version: 14

local_conf_header:
  network-simple: |
    # Simple network profile - single flat network on eth1
    # Uses systemd-networkd config files generated from Nix profiles
    IMAGE_INSTALL:append = " systemd-networkd-config"
    NETWORKD_PROFILE = "simple"
    NETWORKD_NODE_NAME = "server-1"
